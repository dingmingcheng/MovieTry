<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Free Bootstrap Admin Template : Binary Admin</title>
	<!-- BOOTSTRAP STYLES-->
    <link href="assets/css/bootstrap.css" rel="stylesheet" />
     <!-- FONTAWESOME STYLES-->
    <link href="assets/css/font-awesome.css" rel="stylesheet" />
        <!-- CUSTOM STYLES-->
    <link href="assets/css/custom.css" rel="stylesheet" />
     <!-- GOOGLE FONTS-->
   <link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css' />

</head>
<body>
    <div class="container">
        <div class="row text-center  ">
            <div class="col-md-12">
                <br /><br />
                <h2> Binary Admin : Register</h2>
               
                <h5>( Register yourself to get access )</h5>
                 <br />
            </div>
        </div>
         <div class="row">
               
                <div class="col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3 col-xs-10 col-xs-offset-1">
                        <div class="panel panel-default">
                            <div class="panel-heading">
                        <strong>用户注册信息</strong>  
                            </div>
                            <div class="panel-body">
                                <form role="form">
                                        <div class="form-group input-group">
                                            <span class="input-group-addon"><i class="fa fa-circle-o-notch"  ></i></span>
                                            <input id="username" type="text" class="form-control" placeholder="用户名" />                                            
                                        </div>
                                        &nbsp;<font id="lname" color="#FF0000"></font>
                                      <div class="form-group input-group">
                                            <span class="input-group-addon"><i class="fa fa-lock"  ></i></span>
                                            <input id="password" type="password" class="form-control" placeholder="输入密码" />
                                        	
                                        </div>&nbsp;<font id="lpass1"color="#FF0000"></font>
                                     <div class="form-group input-group">
                                            <span class="input-group-addon"><i class="fa fa-lock"  ></i></span>
                                            <input id="password1" type="password" class="form-control" placeholder="请再次输入密码" />
                                        	
                                        </div>&nbsp;<font id="lpass2"color="#FF0000"></font>

                                        <font id="lstusch"color="#FF0000"></font>

                                         <div class="form-group input-group">
                                            <span class="input-group-addon">@</span>
                                            <input id="stuemail" type="text" class="form-control" placeholder="Email地址" />
                                        	
                                        </div>&nbsp;<font id="lstuemail"color="#FF0000"></font>
											<div class="checkbox">
                                                <label>
                                                    <input type="checkbox" name="test" value="Film-Noir" />Film-Noir
                                                </label>
                                            </div>
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" name="test" value="Action"/>Action
                                                </label>
                                            </div>
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" name="test" value="Adventure"/>Adventure
                                                </label>
                                            </div>
											<div class="checkbox">
                                                <label>
                                                    <input type="checkbox" name="test" value="Horror" />Horror
                                                </label>
                                            </div>
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" name="test"  value="Romance"/> Romance
                                                </label>
                                            </div>
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" name="test" value="War"/> War
                                                </label>
                                            </div>
											<div class="checkbox">
                                                <label>
                                                    <input type="checkbox" name="test" value="Western" /> Western
                                                </label>
                                            </div>
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" name="test" value="Documentary"/> Documentary
                                                </label>
                                            </div>
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" name="test" value="Sci-Fi"/> Sci-Fi
                                                </label>
                                            </div>
											<div class="checkbox">
                                                <label>
                                                    <input type="checkbox" name="test" value="Drama" /> Drama
                                                </label>
                                            </div>
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" name="test" value="Thriller"/> Thriller
                                                </label>
                                            </div>
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" name="test" value="Children's"/> Children's
                                                </label>
                                            </div>
											<div class="checkbox">
                                                <label>
                                                    <input type="checkbox" name="test" value="Crime" /> Crime
                                                </label>
                                            </div>
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" name="test" value="Fantasy"/> Fantasy
                                                </label>
                                            </div>
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" name="test" value="Animation"/> Animation
                                                </label>
                                            </div><div class="checkbox">
                                                <label>
                                                    <input type="checkbox" name="test" value="Comedy" />Comedy
                                                </label>
                                            </div>
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" name="test" value="Mystery"/> Mystery
                                                </label>
                                            </div>
                                            <div class="checkbox">
                                                <label>
                                                    <input type="checkbox" name="test" value="Musical"/> Musical
                                                </label>
                                            </div>
											
                                        <br>
                                     <a id="loginbtn" class="btn btn-success " >完成</a>
                                    <hr />
                                    已有帐号？ <a href="login.jsp" >请点击这里！</a>
                                    </form>
                            </div>
                           
                        </div>
                    </div>
                
                
        </div>
    </div>


     <!-- SCRIPTS -AT THE BOTOM TO REDUCE THE LOAD TIME-->
    <!-- JQUERY SCRIPTS -->
    <script src="assets/js/jquery-1.10.2.js"></script>
	<script type="text/javascript">
		window.flag1=0;
		window.flag5=0;
		window.flag6=0;
		window.flag7=0;
		$(function(){
			$("#loginbtn").click(function(){
				if(flag1 == 0 || flag5 == 0 || flag6 == 0 || flag7 == 0)
				{
					alert("请填入正确的信息");
					return;	
				}
				var interests='';
				$("#loading1").show();
				obj = document.getElementsByName("test");
				var i = 0;
				for(k in obj){
					
					if(obj[k].checked) {
						if(i != 0) interests += '|';
						i = 1;
						interests += obj[k].value;
					}
						//check_val.push(obj[k].value);
				}
				$.ajax({
					url: 'registeration.do',  
					type: 'POST',
					data:{"username":$("#username").val(),"password":$("#password").val(),"stuemail":$("#stuemail").val(),"interests":interests},                                 
					success:function(data){
						if(data=="注册成功")
						{
							location.href="index.html";
						}
						else
						{
							$("#loading1").hide();
							alert(data);
						}
					}
				})
			})
		})
	</script>
	<script>
        window.onload= function(){  
            var userName = document.getElementById("username");  
            var lableName = document.getElementById("lname");  
            var password1 = document.getElementById("password");  
            var password2 = document.getElementById("password1");  
            var labelPassword1 = document.getElementById("lpass1");  
            var labelPassword2 = document.getElementById("lpass2");
            var stuemail=document.getElementById("stuemail");
            var lstuemail=document.getElementById("lstuemail");
            userName.onblur = function(){  
                var nameValue = userName.value;  
                var pattern = /^[a-zA-Z_]\w{5,19}$/g;
                if(nameValue =="" || nameValue==null){  
                    lableName.innerHTML = "用户名不能为空!";flag1=0;
                }  
                else if(pattern.test(nameValue)){  
                    lableName.innerHTML = "正确!";flag1=1;
                }  
                else{  
                    lableName.innerHTML = "数字不能开头,长度在6-20位之间！";
                    flag1=0;
                }  
            }


            stuemail.onblur = function(){  
                var nameValue = stuemail.value;  
                if(nameValue =="" || nameValue==null){  
                	lstuemail.innerHTML = "邮箱不能为空!";  flag5=0;
                }  
                else{  
                	lstuemail.innerHTML = "正确!";  flag5=1;
                }                  
            }
            password1.onblur = function(){  
                var passValue = password1.value;  
                var pattern = /^\w{6,15}$/g;  
                if(pattern.test(passValue)){  
                    labelPassword1.innerHTML = "正确!";  flag6=1;
                }  
                else if(passValue =="" || passValue==null){  
                    labelPassword1.innerHTML = "密码不能为空!";  flag6=0;
                }  
                else{  
                    labelPassword1.innerHTML = "密码长度在6-15位之间！";  flag6=0;
                }  
            }  
            password2.onblur = function(){  
                var pass1Value = password1.value;  
                var pass2Value = password2.value;  
                if(pass2Value =="" || pass2Value==null){  
                    labelPassword2.innerHTML = "密码不能为空!";  flag7=0;
                }  
                else if(pass1Value == pass2Value){  
                    labelPassword2.innerHTML = "输入正确!";  flag7=1;
                }  
                else if(pass1Value!=pass2Value){  
                    labelPassword2.innerHTML = "两次密码输入不一致!";  flag7=0;
                }  
                else{  
                    labelPassword2.innerHTML = "密码长度在6-15位之间！";  flag7=0;
                }  
            }            
        }  
    </script>  
      <!-- BOOTSTRAP SCRIPTS -->	  
    <script src="assets/js/bootstrap.min.js"></script>
    <!-- METISMENU SCRIPTS -->
    <script src="assets/js/jquery.metisMenu.js"></script>
      <!-- CUSTOM SCRIPTS -->
    <script src="assets/js/custom.js"></script>
   
</body>
</html>
